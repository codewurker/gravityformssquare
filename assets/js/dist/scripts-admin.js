!function(){"use strict";var e,t={7960:function(e,t,n){var r=jQuery,a=n.n(r),o=gform.utils;function i(e){var t=window[e+"_intervals"];if(t){for(var n=jQuery("#"+e+"_unit").val(),r=t[n].min,a=t[n].max,o=jQuery("#"+e+"_length"),i=o.val(),s="",u=r;u<=a;u++){var c=i===u?"selected='selected'":"";s+=0===u?"<option value='"+u+"' "+c+">infinite</option>":"<option value='"+u+"' "+c+">"+u+"</option>"}o.html(s)}}var s=function(){window.loadSquareBillingLength=i;var e,t,n,r,s,u,c=document.querySelector(".entry-details-table"),f=document.querySelector("#tab_gravityformssquare form.gform_settings_form"),l=document.querySelector(".merge-tag-support");f&&(r=a(),s=gform_square_admin_strings.settings_url,u=!1,r(".gform_square_deauth_button").length||"1"===r("input#custom_app_"+gform_square_admin_strings.mode).val()||r("#tab_gravityformssquare table tr:last-child").css("display","none"),r(".gform_square_deauth_button").on("click",(function(e){e.preventDefault();var t=r("#gform_square_deauth_button"),n=r("#deauth_scope"),a=gform_square_admin_strings.disconnect;if(u){var o=r("#deauth_scope0").is(":checked")?"site":"account";if(!window.confirm(a[o]))return!1;t.attr("disabled","disabled"),r.ajax({async:!1,url:ajaxurl,dataType:"json",method:"POST",data:{action:"gfsquare_deauthorize",scope:o,nonce:gform_square_admin_strings.deauth_nonce},success:function(e){e.success?window.location.href=s:window.alert(e.data.message),t.removeAttr("disabled")}}).fail((function(e,n,r){window.alert(r),t.removeAttr("disabled")}))}else r(".gform_square_deauth_button").eq(0).hide(),n.show(0,(function(){u=!0}))})),r("#gform_square_enable_custom_app").on("click",(function(e){e.preventDefault(),r("input#custom_app_"+gform_square_admin_strings.mode).val("1"),r("#gform-settings-save").trigger("click")})),r("#gform_square_disable_custom_app").on("click",(function(e){e.preventDefault(),r("input#custom_app_"+gform_square_admin_strings.mode).val(""),r("#gform-settings-save").trigger("click")})),r(".square_mode").change((function(){r("#gform-settings-save").trigger("click")}))),c&&(a(),t=function(t){t.preventDefault();var r=e.paymentDetailsButton.data("entry");return!("refund"===r.api_action&&!window.confirm(gform_square_admin_strings.refund))&&!("cancel_subscription"===r.api_action&&!window.confirm(gform_square_admin_strings.cancel_subscription))&&(r.nonce=gform_square_admin_strings.paymentDetailsNonce,e.spinner.show(),e.paymentDetailsButton.prop("disabled",!0),void a().ajax({url:gform_square_admin_strings.ajaxurl,method:"POST",action:r.action,data:r,success:function(e){"success"in e&&e.success?window.location.reload():"success"in e&&!e.success?(alert(e.data.message),"fail_capture"===e.data.type&&window.location.reload()):n()},error:function(){n()},complete:function(){e.spinner.hide(),e.paymentDetailsButton.prop("disabled","refund"===r.api_action)}}).fail((function(t,n,r){alert(r),e.spinner.hide(),e.paymentDetailsButton.prop("disabled",!1)})))},n=function(){alert(gform_square_admin_strings.capture_request_error)},(e={}).paymentDetailsButton=a()('#gfsquare_payment_details_button_container input[type="button"]'),e.captureButton=a()("#square_capture"),e.spinner=a()("#gfsquare_ajax_spinner"),e.paymentDetailsButton.on("click keypress",t)),l&&window.gform&&gform.addFilter("gform_merge_tags",(function(e,t,n,r,a,o){return e.other.tags.push({tag:"{square_receipt_url}",label:gform_square_admin_strings.square_receipt_url}),e})),(0,o.consoleInfo)("Gravity Forms Square Admin: Initialized all javascript that targeted document ready.")};(0,o.ready)(s)}},n={};function r(e){var a=n[e];if(void 0!==a)return a.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,r),o.exports}r.m=t,e=[],r.O=function(t,n,a,o){if(!n){var i=1/0;for(f=0;f<e.length;f++){n=e[f][0],a=e[f][1],o=e[f][2];for(var s=!0,u=0;u<n.length;u++)(!1&o||i>=o)&&Object.keys(r.O).every((function(e){return r.O[e](n[u])}))?n.splice(u--,1):(s=!1,o<i&&(i=o));if(s){e.splice(f--,1);var c=a();void 0!==c&&(t=c)}}return t}o=o||0;for(var f=e.length;f>0&&e[f-1][2]>o;f--)e[f]=e[f-1];e[f]=[n,a,o]},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={223:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,o,i=n[0],s=n[1],u=n[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(a in s)r.o(s,a)&&(r.m[a]=s[a]);if(u)var f=u(r)}for(t&&t(n);c<i.length;c++)o=i[c],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(f)},n=self.webpackChunkgform_square=self.webpackChunkgform_square||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}(),r.O(void 0,[194],(function(){return r(9553)}));var a=r.O(void 0,[194],(function(){return r(7960)}));a=r.O(a)}();
//# sourceMappingURL=scripts-admin.js.map